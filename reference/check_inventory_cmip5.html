<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Perform some checks on the inventory of CMIP5 files — check_inventory_cmip5 • eurocordexr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Perform some checks on the inventory of CMIP5 files — check_inventory_cmip5"><meta name="description" content="Some simple checks for multiple time frequencies, ensembles, and completeness
of simulation periods. These checks are meant as guides only, since one might
not wish multiple elements of the above for climate model ensemble
assessments."><meta property="og:description" content="Some simple checks for multiple time frequencies, ensembles, and completeness
of simulation periods. These checks are meant as guides only, since one might
not wish multiple elements of the above for climate model ensemble
assessments."><meta property="og:image" content="https://mitmat.github.io/eurocordexr/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">eurocordexr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/grids.html">Reading a rotated-pole grid into R</a></li>
    <li><a class="dropdown-item" href="../articles/rotpole-cdo.html">Convert rotated-pole to regular lonlat grid</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mitmat/eurocordexr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Perform some checks on the inventory of CMIP5 files</h1>
      <small class="dont-index">Source: <a href="https://github.com/mitmat/eurocordexr/blob/master/R/check_inventory_cmip5.R" class="external-link"><code>R/check_inventory_cmip5.R</code></a></small>
      <div class="d-none name"><code>check_inventory_cmip5.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Some simple checks for multiple time frequencies, ensembles, and completeness
of simulation periods. These checks are meant as guides only, since one might
not wish multiple elements of the above for climate model ensemble
assessments.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">check_inventory_cmip5</span><span class="op">(</span><span class="va">data_inventory</span>, check_hist <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data-inventory">data_inventory<a class="anchor" aria-label="anchor" href="#arg-data-inventory"></a></dt>
<dd><p>A data.table as resulting from
<code><a href="get_inventory.html">get_inventory</a></code>.</p></dd>


<dt id="arg-check-hist">check_hist<a class="anchor" aria-label="anchor" href="#arg-check-hist"></a></dt>
<dd><p>Boolean, if <code>TRUE</code>, tests that each rcp* has a corresponding historical run.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class "eurocordexr_inv_check_cmip5" (an overloaded list) with results
from the checks. Has a special print method, which shows a verbose summary of the results.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The checks are</p><ul><li><p>for multiple time frequency (day, month, ...)</p></li>
<li><p>for multiple ensembles (r1i1p1, r2i1p1, ...)</p></li>
<li><p>for complete periods of simulations: here complete means at least
1860-2005 for historical and 2006-2099 for rcp*</p></li>
<li><p>that each rcp* has a corresponding historical run (optional, off by
default; otherwise problematic with merged hist and rcp runs)</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># some empty example files</span></span></span>
<span class="r-in"><span><span class="va">fn_zip</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"inv-test-files-cmip5.zip"</span>, package <span class="op">=</span> <span class="st">"eurocordexr"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tmpdir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/unzip.html" class="external-link">unzip</a></span><span class="op">(</span><span class="va">fn_zip</span>, exdir <span class="op">=</span> <span class="va">tmpdir</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dat_inv</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_inventory_cmip5.html">get_inventory_cmip5</a></span><span class="op">(</span><span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span><span class="va">tmpdir</span>, <span class="st">"testdata-cmip5"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">check_inventory_cmip5</span><span class="op">(</span><span class="va">dat_inv</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Checks performed: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Multiple time frequencies detected: Amon day </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Multiple ensembles in 3 cases: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    variable       gcm experiment timefreq     N              ensembles</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;char&gt;    &lt;char&gt;     &lt;char&gt;   &lt;char&gt; &lt;int&gt;                 &lt;char&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:       pr ACCESS1-0 historical     Amon     3 r1i1p1, r2i1p1, r3i1p1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:      tas ACCESS1-0 historical     Amon     3 r1i1p1, r2i1p1, r3i1p1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:      tas ACCESS1-3 historical     Amon     3 r1i1p1, r2i1p1, r3i1p1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Following model runs do not have complete periods: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    variable timefreq        gcm experiment ensemble nn_files date_start</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;char&gt;   &lt;char&gt;     &lt;char&gt;     &lt;char&gt;   &lt;char&gt;    &lt;int&gt;     &lt;Date&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:       pr     Amon  CMCC-CESM historical   r1i1p1        2 1855-01-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:      tas     Amon   CMCC-CMS      rcp85   r1i1p1        2 2070-01-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:   tasmax      day HadGEM2-ES      rcp85   r1i1p1        2 2279-12-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:   tasmin      day HadGEM2-ES      rcp26   r1i1p1       11 2005-12-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      date_end total_simulation_years period_contiguous</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        &lt;Date&gt;                  &lt;int&gt;            &lt;lgcl&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: 1879-12-01                     10             FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: 2100-12-01                     21             FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: 2299-12-30                     12             FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4: 2139-11-30                    112             FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Finished checks. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michael Matiu.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

